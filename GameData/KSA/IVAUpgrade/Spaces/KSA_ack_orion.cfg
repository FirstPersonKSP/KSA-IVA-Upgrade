// NOTE: this layout originally created by Mirage and used with permission
INTERNAL
{
	name = KSA_ack_orion
	MODEL
	{
		model = Benjee10_Orion/Orion/Parts/orion_IVA
	}
	MODULE
	{
		name = InternalSeat
		seatTransformName = seatTransform1
		allowCrewHelmet = false
		displayseatName = Seat 1
	}
	MODULE
	{
		name = InternalSeat
		seatTransformName = seatTransform2
		allowCrewHelmet = false
		displayseatName = Seat 2
	}
	MODULE
	{
		name = InternalSeat
		seatTransformName = seatTransform3
		allowCrewHelmet = false
		displayseatName = Seat 3
	}
	MODULE
	{
		name = InternalSeat
		seatTransformName = seatTransform4
		allowCrewHelmet = false
		displayseatName = Seat 4
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = window1_collider
		cameraTransformName = window1_camera
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = window2_collider
		cameraTransformName = window2_camera
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = window3_collider
		cameraTransformName = window3_camera
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = window4_collider
		cameraTransformName = window4_camera
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = window5_collider
		cameraTransformName = window5_camera
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = window6_collider
		cameraTransformName = window6_camera
	}
	PROP
	{
		name = htProps_tubeLight
		position = 0,1.14199996,0.0780000016
		rotation = 0.707106829,0,0,0.707106829
		scale = 1,0.5,1
	}
	PROP
	{
		name = htProps_airVent01
		position = 0.877499998,0,0.140000001
		rotation = 0.5,-0.5,0.5,0.5
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_airVent01
		position = -0.877499998,0,0.140000001
		rotation = 0.5,0.5,-0.5,0.5
		scale = 1,1,1
	}
	PROP
	{
		name = CargoBagA
		position = 0,-0.938000023,-0.469000012
		rotation = 0.164771602,0.687641144,0.164771572,0.687641144
		scale = 1,1,1
	}
	PROP
	{
		name = CargoBagA
		position = -0.468999296,-0.812332273,-0.469000012
		rotation = 0.3371315,0.621564507,-0.0188171715,0.70685637
		scale = 1,1,1
	}
	PROP
	{
		name = CargoBagA
		position = 0.469000012,-0.812331855,-0.469000012
		rotation = -0.0188174676,0.70685637,0.337131709,0.621564329
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_fireExtinguisher
		position = 1.04799998,0,-0.164000005
		rotation = 0,0,0.707106829,0.707106829
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_cargoBag_small_firstAid
		position = 0.94630003,0,-0.359200001
		rotation = 0.68576324,-0.68576324,-0.172420532,0.172420502
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_translationController
		position = -0.47209999,0.596300006,-0.393400013
		rotation = 0.707106829,0,0,0.707106829
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_translationController
		position = 0.458999991,0.596300006,-0.393400013
		rotation = 0.707106829,0,0,0.707106829
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_seat_Orion1
		position = 0.290965945,0.0209999997,-0.0329999998
		rotation = 0,0,0,1
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_seat_Orion1
		position = -0.290965915,0.0209999997,-0.0329999998
		rotation = 0,0,0,1
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_seat_Orion2
		position = 0.290965945,-0.676191449,-0.0334281325
		rotation = 0,0,0,1
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_seat_Orion2
		position = -0.290965915,-0.676191449,-0.0334281325
		rotation = 0,0,0,1
		scale = 1,1,1
	}
	PROP
	{
		name = ALCORMFD40x20
		position = -0.00820000004,0.54519999,-0.415699989
		rotation = 0,0,0,1
		scale = 0.850000024,0.850000024,0.850000024
	}
	PROP
	{
		name = ALCORMFD40x20
		position = -0.292499989,0.54610002,-0.40259999
		rotation = 0,0.0523358956,0,0.99862951
		scale = 0.850000024,0.850000024,0.850000024
	}
	PROP
	{
		name = ALCORMFD40x20
		position = 0.276899993,0.54610014,-0.40350008
		rotation = 0,-0.0523358956,0,0.99862951
		scale = 0.850000024,0.850000024,0.850000024
	}
	PROP
	{
		name = pb_SAS_ON-FD1-B2
		position = 0.133000001,0.392399997,-0.412499994
		rotation = 0.707106829,0,0,0.707106829
		scale = 0.649999976,0.649999917,0.649999917
	}
	PROP
	{
		name = pb_sas_STAB-FD2-G1
		position = 0.502799988,0.526899993,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_MANEUVER-FD2-G1
		position = 0.47299999,0.526899993,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_PROGRADE-FD2-G1
		position = 0.442600012,0.526899993,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_RETROGRADE-FD2-G1
		position = 0.502799988,0.494100004,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_NORMAL-FD2-G1
		position = 0.472900003,0.494100004,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_ANTINORMAL-FD2-G1
		position = 0.442999989,0.494100004,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_RADIALIN-FD2-G1
		position = 0.502799988,0.459399998,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_RADIALOUT-FD2-G1
		position = 0.472900003,0.459399998,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_ANTITARGET-FD2-G1
		position = 0.442999989,0.459399998,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_TARGET-FD2-G1
		position = 0.502799988,0.425300002,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_RCS-SH02-B6-C2
		position = 0.0939999968,0.392399997,-0.412499994
		rotation = 0.707106829,0,0,0.707106829
		scale = 0.649999976,0.649999917,0.649999917
	}
	PROP
	{
		name = pb_PRECISE_CTRL-FD2-B2
		position = 0.0520000011,0.392399997,-0.412499994
		rotation = 0.707106829,0,0,0.707106829
		scale = 0.649999976,0.649999917,0.649999917
	}
	PROP
	{
		name = pb_EXT_LIGHT-SH02-B2
		position = -0.442400008,0.519900084,-0.389600158
		rotation = 0.707106829,0,0,0.707106829
		scale = 0.699999988,0.699999928,0.699999928
	}
	PROP
	{
		name = JSIMainCompUnit
		position = 0.279199988,0.39199999,-0.416200012
		rotation = 0,-0.0523358956,0,0.99862951
		scale = 0.737570047,0.737569988,0.737570047
	}
	PROP
	{
		name = StageSwitch
		position = -0.441399992,0.465000004,-0.389600009
		rotation = 0.707106829,0,0,0.707106829
		scale = 0.699999988,0.699999928,0.699999928
	}
	PROP
	{
		name = JSIswitch_StageLock
		position = -0.470400006,0.465000123,-0.389600128
		rotation = 0.707106829,0,0,0.707106829
		scale = 0.699999988,0.699999928,0.699999928
	}
	PROP
	{
		name = ABORTbuttonV2
		position = -0.00899999961,0.390799999,-0.411300004
		rotation = 0.707106829,0,0,0.707106829
		scale = 0.699999988,0.699999928,0.699999928
	}
	PROP
	{
		name = ledPanelSpeed
		position = 0.49180001,0.380699992,-0.388599992
		rotation = 0.707106829,0,0,0.707106829
		scale = 0.699999988,0.699999928,0.699999928
	}
	PROP
	{
		name = ARRT
		position = -0.500699997,0.45660001,-0.387199998
		rotation = 0.707106829,0,0,0.707106829
		scale = 0.554072022,0.554072022,0.554072022
	}
	PROP
	{
		name = swTumbleARRT_MODE
		position = -0.504100025,0.519200027,-0.387199998
		rotation = 0.707106829,0,0,0.707106829
		scale = 0.554072022,0.554072022,0.554072022
	}
	PROP
	{
		name = swTumbleARRT_ON
		position = -0.4727,0.519200027,-0.387199998
		rotation = 0.707106829,0,0,0.707106829
		scale = 0.554072022,0.554072022,0.554072022
	}
}

// copy the freeiva config here, because the freeiva configs apply to a specific name instead of everything using this model.
// but set this up so that it'll be disabled if we ever change that.
@INTERNAL[KSA_ack_orion]:HAS[!MODULE[InternalModuleFreeIva]]:AFTER[FreeIva]
{
	MODEL
	{
		model = FreeIva/Benjee10_Orion/benjee10_orion_IVA
	}

	MODULE
	{
		name = InternalModuleFreeIva
		shellColliderName = shellCollider
		externalDepthMaskName = orion_IVA_depthMask
		internalDepthMaskName = depthMask
		Reparent
		{
			childTransformName = topHatchWindow
			parentTransformName = orion_IVAhatch1
		}
		Reparent
		{
			childTransformName = topHatchCollider
			parentTransformName = orion_IVAhatch1
		}
		Cut
		{
			target = orion_main
			type = Mesh
			tool = cutout
		}
	}

	// the orion capsule has 3 attachNodes using the same transform that are buried inside the capsule and intended for attaching the parachute, cover, and then launch escape system, in that order.
	// they are named "nodeTop", "nodeTop3", "nodeTop4"
	// in real life, the docking port is attached to the cover which is jettisoned during reentry (it's mainly for protecting the parachutes)
	// Unfortunately this means that nodeTop2 which is directly on the external hatch will not function for FreeIva
	MODULE
	{
		name = FreeIvaHatch
		position = 0, 0, -1
		doorTransformName = orion_IVAhatch1
		tubeTransformName = tube
		attachNodeId = nodeTop3
	}

	MODULE
	{
		name = FreeIvaHatch
		position = -0.950532854, -0.000678651733, -0.404578716
		doorTransformName = orionIVA_hatch
		airlockName = sideHatchAirlock
	}
}

@PART[benjee10_orion_Capsule]:FOR[KSA]
{
	%MODULE[RasterPropMonitorComputer]
	{

	}

	@INTERNAL
	{
		@name = KSA_ack_orion
	}
}

@PART[benjee10_orion_Capsule]:AFTER[zzz_Reviva]
{
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[IVASwitch]]
	{
		SUBTYPE
		{
			name = KSA
			primaryColor = Blue
			secondaryColor = Grey
			descriptionSummary = High-tech RPM Orion IVA

			MODULE
			{
				IDENTIFIER
				{
					name = ModuleIVASwitch
				}
				DATA
				{
					internalName = KSA_ack_orion
					RasterPropMonitorComputer
					{
					}
				}
			}
		}
	}
}
