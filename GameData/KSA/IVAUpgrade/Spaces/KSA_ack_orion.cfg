INTERNAL
{
	name = KSA_ack_orion
	MODEL
	{
		model = Benjee10_Orion/Orion/Parts/orion_IVA
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = window1_collider
		cameraTransformName = window1_camera
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = window2_collider
		cameraTransformName = window2_camera
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = window3_collider
		cameraTransformName = window3_camera
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = window4_collider
		cameraTransformName = window4_camera
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = window5_collider
		cameraTransformName = window5_camera
	}
	MODULE
	{
		name = InternalCameraSwitch
		colliderTransformName = window6_collider
		cameraTransformName = window6_camera
	}
	PROP
	{
		name = htProps_tubeLight
		position = 0,1.14199996,0.0780000016
		rotation = 0.707106829,0,0,0.707106829
		scale = 1,0.5,1
	}
	PROP
	{
		name = htProps_airVent01
		position = 0.877499998,0,0.140000001
		rotation = 0.5,-0.5,0.5,0.5
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_airVent01
		position = -0.877499998,0,0.140000001
		rotation = 0.5,0.5,-0.5,0.5
		scale = 1,1,1
	}
	PROP
	{
		name = CargoBagA
		position = 0,-0.938000023,-0.469000012
		rotation = 0.164771602,0.687641144,0.164771572,0.687641144
		scale = 1,1,1
	}
	PROP
	{
		name = CargoBagA
		position = -0.468999296,-0.812332273,-0.469000012
		rotation = 0.3371315,0.621564507,-0.0188171715,0.70685637
		scale = 1,1,1
	}
	PROP
	{
		name = CargoBagA
		position = 0.469000012,-0.812331855,-0.469000012
		rotation = -0.0188174676,0.70685637,0.337131709,0.621564329
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_fireExtinguisher
		position = 1.04799998,0,-0.164000005
		rotation = 0,0,0.707106829,0.707106829
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_cargoBag_small_firstAid
		position = 0.94630003,0,-0.359200001
		rotation = 0.68576324,-0.68576324,-0.172420532,0.172420502
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_translationController
		position = -0.47209999,0.596300006,-0.393400013
		rotation = 0.707106829,0,0,0.707106829
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_translationController
		position = 0.458999991,0.596300006,-0.393400013
		rotation = 0.707106829,0,0,0.707106829
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_seat_Orion1
		position = 0.290965945,0.0209999997,-0.0329999998
		rotation = 0,0,0,1
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_seat_Orion1
		position = -0.290965915,0.0209999997,-0.0329999998
		rotation = 0,0,0,1
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_seat_Orion2
		position = 0.290965945,-0.79,-0.0334281325
		rotation = 0,0,0,1
		scale = 1,1,1
	}
	PROP
	{
		name = htProps_seat_Orion2
		position = -0.290965915,-0.79,-0.0334281325
		rotation = 0,0,0,1
		scale = 1,1,1
	}
	PROP
	{
		name = ALCORMFD40x20
		position = -0.00820000004,0.54519999,-0.415699989
		rotation = 0,0,0,1
		scale = 0.850000024,0.850000024,0.850000024
	}
	PROP
	{
		name = ALCORMFD40x20
		position = -0.292499989,0.54610002,-0.40259999
		rotation = 0,0.0523358956,0,0.99862951
		scale = 0.850000024,0.850000024,0.850000024
	}
	PROP
	{
		name = ALCORMFD40x20
		position = 0.276899993,0.54610014,-0.40350008
		rotation = 0,-0.0523358956,0,0.99862951
		scale = 0.850000024,0.850000024,0.850000024
	}
	PROP
	{
		name = pb_sas_STAB-FD2-G1
		position = 0.502799988,0.526899993,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_MANEUVER-FD2-G1
		position = 0.47299999,0.526899993,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_PROGRADE-FD2-G1
		position = 0.442600012,0.526899993,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_RETROGRADE-FD2-G1
		position = 0.502799988,0.494100004,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_NORMAL-FD2-G1
		position = 0.472900003,0.494100004,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_ANTINORMAL-FD2-G1
		position = 0.442999989,0.494100004,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_RADIALIN-FD2-G1
		position = 0.502799988,0.459399998,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_RADIALOUT-FD2-G1
		position = 0.472900003,0.459399998,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_ANTITARGET-FD2-G1
		position = 0.442999989,0.459399998,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = pb_sas_TARGET-FD2-G1
		position = 0.502799988,0.425300002,-0.389200002
		rotation = 0.707106829,0,0,0.707106769
		scale = 0.649999976,0.649999976,0.649999976
	}
	PROP
	{
		name = JSIMainCompUnit
		position = 0.904600024,0.374600053,-0.124900028
		rotation = 0.115808129,-0.572163343,0.161390767,0.795720279
		scale = 2,2,2
	}
	PROP
	{
		name = ABORTbuttonV2
		position = -0.0817999989,0.390800118,-0.411300123
		rotation = 0.707106829,0,0,0.707106829
		scale = 0.699999988,0.699999809,0.699999809
	}
	PROP
	{
		name = ARRT
		position = -0.478799999,0.422800124,-0.38560015
		rotation = 0.707106829,0,0,0.707106829
		scale = 1,1,1
	}
	PROP
	{
		name = swTumbleARRT_MODE
		position = -0.502699971,0.519200146,-0.387200117
		rotation = 0.707106829,0,0,0.707106829
		scale = 0.554072022,0.554072022,0.554072022
	}
	PROP
	{
		name = swTumbleARRT_ON
		position = -0.462300003,0.519200146,-0.387200117
		rotation = 0.707106829,0,0,0.707106829
		scale = 0.554072022,0.554072022,0.554072022
	}
	PROP
	{
		name = SwitchRotary_Precision_Ctrl
		position = 0.134215623,0.389700592,-0.4117679
		rotation = 0.707106888,0,0,0.707106769
		scale = 1,0.999999881,0.999999881
	}
	PROP
	{
		name = tggl_CHUTE_ARM_T1_G1-B2-S
		position = 0.374199986,0.389700353,-0.388600588
		rotation = 0.706288338,-0.0340119563,0.0340119563,0.706288338
		scale = 0.700000107,0.69999975,0.69999975
	}
	PROP
	{
		name = tggl_RCS_T1-G1-B3-S
		position = 0.26719743,0.389700353,-0.398930132
		rotation = 0.706288338,-0.0340119563,0.0340119563,0.706288338
		scale = 0.700000226,0.69999975,0.69999975
	}
	PROP
	{
		name = switchTumble_SAS
		position = 0.212551445,0.389700353,-0.404205441
		rotation = 0.706288338,-0.0340119563,0.0340119563,0.706288338
		scale = 0.700000286,0.69999975,0.69999975
	}
	PROP
	{
		name = tggl_ENGINE_MODE_T1_G1-B3-S
		position = 0.321544766,0.389700353,-0.393683732
		rotation = 0.706288338,-0.0340119563,0.0340119563,0.706288338
		scale = 0.700000167,0.69999975,0.69999975
	}
	PROP
	{
		name = THRUST_LIMIT_Selector
		position = -0.153400004,0.38970083,-0.411768138
		rotation = 0.707106888,0,0,0.707106769
		scale = 1,0.999999881,0.999999881
	}
	PROP
	{
		name = tggl_LIGHTS_T1-G1-B2-S
		position = -0.22468698,0.389700562,-0.406128377
		rotation = 0.70629251,0.0339257196,-0.0339257196,0.70629251
		scale = 0.700000048,0.699999869,0.699999869
	}
	PROP
	{
		name = switchTumble_Brakes
		position = -0.275750816,0.389701009,-0.4012115
		rotation = 0.70629251,0.0339257158,-0.0339257158,0.70629251
		scale = 0.700000167,0.699999988,0.699999869
	}
	PROP
	{
		name = switchTumble_Gear
		position = -0.328606337,0.389701247,-0.396122098
		rotation = 0.70629251,0.0339257158,-0.0339257158,0.70629251
		scale = 0.700000226,0.700000048,0.699999869
	}
	PROP
	{
		name = swTumble_SOLAR_DEPLOY
		position = -0.378674746,0.389701515,-0.391301006
		rotation = 0.70629251,0.0339257121,-0.0339257121,0.70629251
		scale = 0.700000286,0.699999988,0.699999869
	}
	PROP
	{
		name = SwitchRotary_SAS_SpeedMode_Selector-01
		position = 0.450300008,0.392500132,-0.389200121
		rotation = 0.707106888,0,0,0.707106769
		scale = 1,1,1
	}
	PROP
	{
		name = StageSwitch
		position = 0.0658000037,0.388800114,-0.411800116
		rotation = 0.707106888,0,0,0.707106769
		scale = 0.699999988,0.699999928,0.699999928
	}
	PROP
	{
		name = switchRotary_StageLock
		position = -0.00230000005,0.38970083,-0.411768138
		rotation = 0.707106888,0,0,0.707106769
		scale = 1,0.999999881,0.999999881
	}
	PROP
	{
		name = LifeSupportMonitor
		position = -0.838100016,0.348800123,-0.183300063
		rotation = 0.111164495,0.573240697,-0.156304687,0.796621919
		scale = 0.649999738,0.649999857,0.649999857
	}
	PROP
	{
		name = htProps_dinoToy_styracosaurus
		position = 0.00606000004,0.679500103,-0.514480114
		rotation = 0,-0.495765299,0,0.868456602
		scale = 0.0999999866,0.100000009,0.100000001
	}
}

// change seats to the version with modules
@INTERNAL[KSA_ack_orion]
{
	@PROP[htProps_seat_Orion1],*
	{
		@name = htProps_seat_Orion1_wModule
	}

	@PROP[htProps_seat_Orion2],*
	{
		@name = htProps_seat_Orion2_wModule
	}
}

// copy the freeiva config here, because the freeiva configs apply to a specific name instead of everything using this model.
// but set this up so that it'll be disabled if we ever change that.
@INTERNAL[KSA_ack_orion]:HAS[!MODULE[InternalModuleFreeIva]]:AFTER[FreeIva]
{
	MODEL
	{
		model = FreeIva/Benjee10_Orion/benjee10_orion_IVA
	}

	MODULE
	{
		name = InternalModuleFreeIva
		shellColliderName = shellCollider
		externalDepthMaskName = orion_IVA_depthMask
		internalDepthMaskName = depthMask
		Reparent
		{
			childTransformName = topHatchWindow
			parentTransformName = orion_IVAhatch1
		}
		Reparent
		{
			childTransformName = topHatchCollider
			parentTransformName = orion_IVAhatch1
		}
		Cut
		{
			target = orion_main
			type = Mesh
			tool = cutout
		}
	}

	// the orion capsule has 3 attachNodes using the same transform that are buried inside the capsule and intended for attaching the parachute, cover, and then launch escape system, in that order.
	// they are named "nodeTop", "nodeTop3", "nodeTop4"
	// in real life, the docking port is attached to the cover which is jettisoned during reentry (it's mainly for protecting the parachutes)
	// Unfortunately this means that nodeTop2 which is directly on the external hatch will not function for FreeIva
	MODULE
	{
		name = FreeIvaHatch
		position = 0, 0, -1
		doorTransformName = orion_IVAhatch1
		tubeTransformName = tube
		attachNodeId = nodeTop3
	}

	MODULE
	{
		name = FreeIvaHatch
		position = -0.950532854, -0.000678651733, -0.404578716
		doorTransformName = orionIVA_hatch
		airlockName = sideHatchAirlock
	}
}

@PART[benjee10_orion_Capsule]:FOR[KSA]
{
	%MODULE[RasterPropMonitorComputer]
	{

	}

	@INTERNAL
	{
		@name = KSA_ack_orion
	}
}

@PART[benjee10_orion_Capsule]:AFTER[zzz_Reviva]
{
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[IVASwitch]]
	{
		SUBTYPE
		{
			name = KSA
			primaryColor = Blue
			secondaryColor = Grey
			descriptionSummary = High-tech RPM Orion IVA

			MODULE
			{
				IDENTIFIER
				{
					name = ModuleIVASwitch
				}
				DATA
				{
					internalName = KSA_ack_orion
					RasterPropMonitorComputer
					{
					}
				}
			}
		}
	}
}
